<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åœ†æ¢¦è¡ŒåŠ¨ - é¢„è§ˆ</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* è¡¥å……ä¸€äº›åŸºç¡€æ ·å¼ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* æ¨¡æ‹Ÿ App.tsx ä¸­çš„åŠ¨ç”»å…³é”®å¸§ */
        @keyframes width {
            to {
                width: 100%;
            }
        }

        @keyframes fall {
            to {
                top: 105%;
                transform: rotate(720deg);
            }
        }
    </style>

    <!-- Tailwind Config to extend theme if needed -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'spin-slow': 'spin 3s linear infinite',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-100 flex items-center justify-center min-h-screen">
    <div id="root" class="w-full max-w-md h-[100dvh]"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- TYPES ---
        const AppState = {
            START: 'START',
            ANIMATING: 'ANIMATING',
            RESULT: 'RESULT'
        };

        // --- ICONS (Simplified as Components) ---
        // ä½¿ç”¨ SVG ç›´æ¥æ¸²æŸ“ï¼Œé¿å…ä¾èµ– lucide-react å¤„ç†çš„å¤æ‚æ€§
        const IconWrapper = ({ children, size = 24, className = "" }) => (
            <svg
                xmlns="http://www.w3.org/2000/svg"
                width={size}
                height={size}
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                strokeWidth="2"
                strokeLinecap="round"
                strokeLinejoin="round"
                className={className}
            >
                {children}
            </svg>
        );

        const Sparkles = (props) => (
            <IconWrapper {...props}>
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
                <path d="M5 3v4" /><path d="M9 3v4" /><path d="M3 5h4" /><path d="M3 9h4" />
            </IconWrapper>
        );
        const ArrowRight = (props) => (
            <IconWrapper {...props}><path d="M5 12h14" /><path d="m12 5 7 7-7 7" /></IconWrapper>
        );
        const CheckCircle2 = (props) => (
            <IconWrapper {...props}><circle cx="12" cy="12" r="10" /><path d="m9 12 2 2 4-4" /></IconWrapper>
        );
        const FileText = (props) => (
            <IconWrapper {...props}><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z" /><polyline points="14 2 14 8 20 8" /><line x1="16" y1="13" x2="8" y2="13" /><line x1="16" y1="17" x2="8" y2="17" /><line x1="10" y1="9" x2="8" y2="9" /></IconWrapper>
        );
        const Share2 = (props) => (
            <IconWrapper {...props}><circle cx="18" cy="5" r="3" /><circle cx="6" cy="12" r="3" /><circle cx="18" cy="19" r="3" /><line x1="8.59" x2="15.42" y1="13.51" y2="17.49" /><line x1="15.41" x2="8.59" y1="6.51" y2="10.49" /></IconWrapper>
        );
        const Home = (props) => (
            <IconWrapper {...props}><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" /><polyline points="9 22 9 12 15 12 15 22" /></IconWrapper>
        );
        const User = (props) => (
            <IconWrapper {...props}><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></IconWrapper>
        );
        const Gift = (props) => (
            <IconWrapper {...props}><rect x="3" y="8" width="18" height="4" rx="1" /><path d="M12 8v13" /><path d="M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7" /><path d="M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5" /></IconWrapper>
        );
        const CreditCard = (props) => (
            <IconWrapper {...props}><rect width="20" height="14" x="2" y="5" rx="2" /><line x1="2" x2="22" y1="10" y2="10" /></IconWrapper>
        );


        // --- COMPONENTS ---

        // 1. OfficialSeal
        const OfficialSeal = () => {
            return (
                <div className="absolute bottom-4 right-4 opacity-80 rotate-[-15deg] pointer-events-none">
                    <svg width="140" height="140" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <path id="circlePath" d="M 100, 100 m -75, 0 a 75,75 0 1,1 150,0 a 75,75 0 1,1 -150,0" />
                        </defs>
                        <circle cx="100" cy="100" r="95" fill="none" stroke="#dc2626" strokeWidth="4" />
                        <circle cx="100" cy="100" r="90" fill="none" stroke="#dc2626" strokeWidth="2" />

                        <text fill="#dc2626" fontSize="24" fontWeight="bold" letterSpacing="4">
                            <textPath href="#circlePath" startOffset="50%" textAnchor="middle">
                                åœ†æ¢¦è¡ŒåŠ¨è´¢æ”¿å®¡æ‰¹ä¸“ç”¨ç« 
                            </textPath>
                        </text>

                        <text x="100" y="115" textAnchor="middle" fill="#dc2626" fontSize="36" fontWeight="bold">
                            é€šè¿‡
                        </text>

                        <path d="M100 65 L105 80 L120 80 L108 90 L112 105 L100 95 L88 105 L92 90 L80 80 L95 80 Z" fill="#dc2626" opacity="0.2" />

                        <text x="100" y="140" textAnchor="middle" fill="#dc2626" fontSize="12">
                            2025-11-13
                        </text>
                    </svg>
                </div>
            );
        };

        // 2. Confetti
        const Confetti = () => {
            const { useState, useEffect } = React;
            const [particles, setParticles] = useState([]);
            const COLORS = ['#FFD700', '#FF0000', '#FF69B4', '#00FF00', '#00BFFF'];

            useEffect(() => {
                const particleCount = 100;
                const newParticles = [];

                for (let i = 0; i < particleCount; i++) {
                    newParticles.push({
                        id: i,
                        x: Math.random() * 100,
                        y: -10 - Math.random() * 20,
                        color: COLORS[Math.floor(Math.random() * COLORS.length)],
                        rotation: Math.random() * 360,
                        scale: 0.5 + Math.random(),
                    });
                }
                setParticles(newParticles);
            }, []);

            return (
                <div className="fixed inset-0 pointer-events-none z-50 overflow-hidden">
                    {particles.map((p, i) => (
                        <div
                            key={p.id}
                            className="absolute w-3 h-3 rounded-sm animate-confetti"
                            style={{
                                backgroundColor: p.color,
                                left: `${p.x}%`,
                                top: `${p.y}%`,
                                transform: `rotate(${p.rotation}deg) scale(${p.scale})`,
                                animation: `fall ${2 + Math.random() * 2}s linear forwards`,
                                animationDelay: `${Math.random() * 0.5}s`
                            }}
                        />
                    ))}
                </div>
            );
        };

        // 3. ResultCard
        const ResultCard = ({ data }) => {
            return (
                <div className="flex flex-col h-full bg-red-50 relative animate-in fade-in slide-in-from-bottom-10 duration-1000">
                    {/* Top Header */}
                    <div className="bg-red-600 text-white p-4 pt-8 text-center shadow-lg">
                        <h1 className="text-xl font-bold tracking-widest">å®¡æ ¸ç»“æŸ</h1>
                    </div>

                    {/* Scrollable Content */}
                    <div className="flex-1 overflow-y-auto p-4 pb-24 space-y-4">

                        {/* Notification Banner */}
                        <div className="bg-white rounded-lg p-4 shadow-sm border border-red-100 text-center">
                            <h2 className="text-red-600 font-bold text-lg mb-2 flex items-center justify-center gap-2">
                                <span>ğŸ‰</span> æ­å–œæ‚¨ï¼ŒæˆåŠŸç”³è¯·åœ†æ¢¦è¡ŒåŠ¨è¡¥å¿é‡‘ï¼
                            </h2>
                            <div className="text-red-700 font-bold text-xl mb-4">è´¢æ”¿éƒ¨å®¡æ‰¹é€šè¿‡ï¼</div>
                            <div className="bg-yellow-50 text-yellow-800 text-xs p-3 rounded border border-yellow-200">
                                å®¡æ‰¹ç»“æœè´¢æ”¿éƒ¨å·²å¤‡æ¡ˆåœ¨å†Œï¼Œæ— éœ€æˆªå›¾ï¼æ— éœ€å‘é€è‡³åœ†æ¢¦è¡ŒåŠ¨å®˜æ–¹å¤§ç¾¤ï¼
                            </div>
                        </div>

                        {/* Main Details Card */}
                        <div className="bg-[#fffdf5] rounded-lg p-5 shadow-md border border-yellow-100 relative overflow-hidden">
                            <div className="mb-6">
                                <h3 className="text-gray-700 font-medium mb-4">è¡¥å¿èµ„é‡‘è¯¦æƒ…</h3>

                                <div className="flex justify-between items-baseline mb-2">
                                    <span className="text-gray-500">è¡¥å¿èµ„é‡‘ï¼š</span>
                                    <span className="text-red-500 font-black text-2xl sm:text-3xl tracking-tighter">
                                        {data.amount}<span className="text-sm text-gray-600 font-normal ml-1">å…ƒ</span>
                                    </span>
                                </div>

                                <div className="flex justify-between items-center mb-4">
                                    <span className="text-gray-500">ç”³è¯·æ—¥æœŸï¼š</span>
                                    <span className="text-gray-800 font-medium">{data.date}</span>
                                </div>

                                <div className="mb-4">
                                    <span className="text-gray-500 block mb-2">ä¸“å±æƒç›Šï¼š</span>
                                    <div className="flex flex-wrap gap-2">
                                        <span className="bg-green-50 text-green-700 text-xs px-2 py-1 rounded border border-green-100">ç™¾å§“ä¸“ç”¨èµ„é‡‘</span>
                                        <span className="bg-blue-50 text-blue-700 text-xs px-2 py-1 rounded border border-blue-100">å¤§é¢è½¬è´¦æ— å¿§</span>
                                        <span className="bg-orange-50 text-orange-700 text-xs px-2 py-1 rounded border border-orange-100">å¤§é¢å–ç°æ— å¿§</span>
                                    </div>
                                </div>

                                <div className="flex justify-between items-center border-t border-dashed border-gray-300 pt-4 mb-4">
                                    <span className="text-gray-500">é¢†å–äººï¼š</span>
                                    <span className="text-gray-800 font-bold text-lg">{data.name}</span>
                                </div>
                            </div>

                            {/* Timeline */}
                            <div className="space-y-6 relative z-10">
                                <div className="flex gap-3">
                                    <div className="flex flex-col items-center">
                                        <div className="w-6 h-6 rounded-full bg-green-100 flex items-center justify-center">
                                            <CheckCircle2 size={14} className="text-green-600" />
                                        </div>
                                        <div className="w-0.5 h-full bg-gray-200 my-1"></div>
                                    </div>
                                    <div className="pb-4">
                                        <h4 className="font-bold text-gray-800">æ­£å¼ç”³è¯·</h4>
                                        <p className="text-xs text-gray-500 mt-1">{data.date} 18:39:00 - ç”³è¯·å·²æäº¤ï¼Œè¯·è€å¿ƒç­‰å¾…å®¡æ ¸ç»“æœ</p>
                                    </div>
                                </div>

                                <div className="flex gap-3">
                                    <div className="flex flex-col items-center">
                                        <div className="w-6 h-6 rounded-full bg-green-100 flex items-center justify-center">
                                            <CheckCircle2 size={14} className="text-green-600" />
                                        </div>
                                    </div>
                                    <div>
                                        <h4 className="font-bold text-gray-800">å®¡æ ¸é€šè¿‡</h4>
                                        <p className="text-xs text-gray-500 mt-1">{data.date} 18:39:06 - æ‚¨çš„ç”³è¯·å·²é€šè¿‡å®¡æ ¸</p>
                                    </div>
                                </div>
                            </div>

                            {/* Stamp */}
                            <OfficialSeal />
                        </div>

                        <p className="text-center text-gray-400 text-xs mt-8">åœ†æ¢¦è¡ŒåŠ¨ Â· å®˜æ–¹è®¤è¯ Â· çœŸå®æœ‰æ•ˆ</p>
                    </div>

                    {/* Bottom Navigation (Visual Only) */}
                    <div className="bg-white border-t border-gray-200 px-6 py-2 flex justify-between items-center absolute bottom-0 w-full z-10">
                        <div className="flex flex-col items-center text-gray-400">
                            <Home size={20} />
                            <span className="text-[10px] mt-1">é¦–é¡µ</span>
                        </div>
                        <div className="flex flex-col items-center text-gray-400">
                            <Gift size={20} />
                            <span className="text-[10px] mt-1">åœ†æ¢¦å¤§ä½¿</span>
                        </div>
                        <div className="flex flex-col items-center text-red-600">
                            <FileText size={20} />
                            <span className="text-[10px] mt-1 font-bold">è¡¥ å¿</span>
                        </div>
                        <div className="flex flex-col items-center text-gray-400">
                            <Share2 size={20} />
                            <span className="text-[10px] mt-1">å®£ä¼ </span>
                        </div>
                        <div className="flex flex-col items-center text-gray-400">
                            <User size={20} />
                            <span className="text-[10px] mt-1">æˆ‘çš„</span>
                        </div>
                    </div>
                </div>
            );
        };

        // 4. App
        const TARGET_AMOUNT = "1,000,000,000,000.00";
        const TARGET_NAME = "éƒ­ç§€å…°";

        const App = () => {
            const { useState } = React;
            const [appState, setAppState] = useState(AppState.START);
            const [showConfetti, setShowConfetti] = useState(false);

            const handleStart = () => {
                setAppState(AppState.ANIMATING);

                // Simulate "Processing" time then show result
                setTimeout(() => {
                    setAppState(AppState.RESULT);
                    setShowConfetti(true);
                }, 2.500); // ms in JS is number, not string
            };

            const userData = {
                name: TARGET_NAME,
                amount: TARGET_AMOUNT,
                date: new Date().toISOString().split('T')[0]
            };

            return (
                <div className="w-full max-w-md mx-auto h-[100dvh] bg-white shadow-2xl overflow-hidden relative font-sans">
                    {/* Confetti Overlay */}
                    {showConfetti && <Confetti />}

                    {/* Start Screen */}
                    {appState === AppState.START && (
                        <div className="h-full w-full bg-pattern flex flex-col items-center justify-center p-8 text-center animate-in fade-in duration-700">

                            <div className="mb-12 animate-float">
                                <div className="w-24 h-24 bg-yellow-400 rounded-full flex items-center justify-center shadow-[0_0_30px_rgba(250,204,21,0.6)] mx-auto mb-6">
                                    <Sparkles size={48} className="text-red-600" />
                                </div>
                                <h1 className="text-4xl font-bold text-white mb-2 drop-shadow-md">åœ†æ¢¦è¡ŒåŠ¨</h1>
                                <p className="text-yellow-100 text-lg opacity-90">è®©æ¢¦æƒ³ç…§è¿›ç°å®</p>
                            </div>

                            <button
                                onClick={handleStart}
                                className="group relative px-8 py-4 bg-gradient-to-r from-yellow-400 to-yellow-600 text-red-900 font-black text-xl rounded-full shadow-lg transform transition hover:scale-105 active:scale-95 flex items-center gap-2 cursor-pointer"
                            >
                                <span>ç‚¹å‡»å¼€å¯æ¢¦æƒ³</span>
                                <ArrowRight className="group-hover:translate-x-1 transition-transform" />

                                {/* Button Glow Effect */}
                                <div className="absolute inset-0 rounded-full bg-yellow-400 opacity-50 blur-lg -z-10 animate-pulse"></div>
                            </button>

                            <p className="absolute bottom-8 text-white/50 text-xs">
                                å®˜æ–¹å”¯ä¸€æŒ‡å®šåœ†æ¢¦é€šé“
                            </p>
                        </div>
                    )}

                    {/* Loading / Transition Screen */}
                    {appState === AppState.ANIMATING && (
                        <div className="h-full w-full bg-red-700 flex flex-col items-center justify-center z-20 absolute top-0 left-0">
                            <div className="w-32 h-32 border-4 border-yellow-400 border-t-transparent rounded-full animate-spin mb-8"></div>
                            <h2 className="text-2xl font-bold text-white animate-pulse">æ­£åœ¨å®¡æ ¸èµ„è´¨...</h2>
                            <p className="text-white/70 mt-2">å¯¹æ¥è´¢æ”¿éƒ¨æ•°æ®ä¸­å¿ƒ</p>

                            <div className="mt-8 w-64 bg-red-900 rounded-full h-2 overflow-hidden">
                                <div className="h-full bg-yellow-400 animate-[width_2s_ease-out_forwards]" style={{ width: '0%', animationName: 'width', animationDuration: '2s' }}></div>
                            </div>
                        </div>
                    )}

                    {/* Result Screen */}
                    {appState === AppState.RESULT && (
                        <ResultCard data={userData} />
                    )}

                    <style>{`
            .bg-pattern {
              background-color: #b91c1c;
              background-image: radial-gradient(#ef4444 1px, transparent 1px);
              background-size: 20px 20px;
            }
          `}</style>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);

    </script>
</body>

</html>